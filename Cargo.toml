[package]
name = "gbm"
description = "libgbm bindings for rust"
license = "MIT"
documentation = "https://docs.rs/gbm"
repository = "https://github.com/Smithay/gbm.rs"
version = "0.9.0"
keywords = ["wayland", "gbm", "drm", "bindings"]
categories = ["external-ffi-bindings"]
authors = ["Victoria Brekenfeld <github@drakulix.de>"]
exclude = [".gitignore", ".travis.yml", ".rustfmt.toml", ".github"]
build = "build.rs"

[dependencies]
libc = "0.2"
bitflags = "1.2"
drm-fourcc = "2.2"

[dependencies.gbm-sys]
version = "0.2.1"
path = "./gbm-sys"

[dependencies.drm]
version = "0.7.0"
optional = true

[dependencies.wayland-server]
version = "0.28.5"
optional = true

[dev-dependencies.drm]
version = "0.7.0"

[build-dependencies.cc]
version = "1.0"
optional = true

[features]
default = ["import-wayland", "import-egl", "drm-support", "auto-detect"]
import-wayland = ["wayland-server"]
import-egl = []
drm-support = ["drm"]
gen = ["gbm-sys/gen"]
auto-detect = ["cc"]

[workspace]
members = [
  "gbm-sys"
]
